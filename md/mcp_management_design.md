# MCP管理界面产品设计文档

## 1. 概述

本文档旨在详细描述MCP管理界面的功能需求和设计规范。MCP管理界面将提供一个用户友好的界面来管理MCP服务，包括查看、添加、删除MCP服务以及查看MCP服务支持的工具。

## 2. 功能需求

### 2.1 MCP服务查看

**功能描述：**
以卡片形式展示所有已配置的MCP服务列表。

**设计要求：**
- 每个MCP服务以卡片形式展示
- 卡片上显示服务的基本信息（名称、类型、URL等）
- 每个卡片上包含"查看工具"和"删除"操作按钮

### 2.2 MCP服务添加

**功能描述：**
提供新增MCP服务的功能，支持两种输入方式。

**设计要求：**
- 页面上提供"新增"按钮，点击后打开MCP服务添加窗口
- 支持两种输入方式：
  1. 传统FORM表单方式
     - 必填字段：name、type、url
     - 可选字段：headers、timeout等（默认折叠）
  2. JSON字符串输入方式
     - 用户直接输入JSON字符串
     - 前端解析JSON并转换为FORM表单展示
- 提供"测试"按钮
  - 测试MCP服务是否可用
  - 通过获取MCP可用工具列表来验证（工具数量>0即为可用）
- 提供"保存"按钮提交配置

**MCP服务配置格式示例：**
```json
{
  "mcpServers": {
    "user info system": {
      "timeout": 60,
      "type": "sse",
      "url": "http://127.0.0.1:10002/sse/",
      "headers": {
        "Authorization": "Bearer 54bfe0d6-803f-4f60-9bed-0d7709731011"
      }
    }
  }
}
```

### 2.3 MCP服务删除

**功能描述：**
提供删除MCP服务的功能。

**设计要求：**
- 每个MCP服务卡片上提供"删除"按钮
- 点击删除按钮后弹出确认对话框
- 确认后直接删除该MCP服务

### 2.4 MCP工具查看

**功能描述：**
查看指定MCP服务支持的所有工具。

**设计要求：**
- 每个MCP服务卡片上提供"查看工具"按钮
- 点击后弹出窗口展示该服务支持的所有MCP工具
- 展示信息包括：
  - 工具名称
  - 工具描述
  - 输入参数
  - 输出结果

## 3. 非功能需求

### 3.1 用户体验
- 界面简洁直观，易于操作
- 响应迅速，提供必要的加载状态提示
- 错误信息清晰明确

### 3.2 安全性
- 对敏感信息（如headers中的Authorization）进行适当处理
- 防止恶意输入

## 4. 技术实现要求

### 4.1 前端技术栈
- 使用VUE框架
- 使用Element UI组件库

### 4.2 接口规范
- 遵循RESTful API设计原则
- 提供清晰的错误码和错误信息

## 5. 界面设计草图

### 5.1 主界面
```
+---------------------------------------------------+
| MCP服务管理                                     |
| [新增]                                            |
|                                                   |
| +----------------+    +----------------+          |
| | 服务名称       |    | 服务名称       |          |
| | 类型: sse      |    | 类型: http     |          |
| | URL: ...       |    | URL: ...       |          |
| |                |    |                |          |
| | [查看工具][删除] |    | [查看工具][删除] |          |
| +----------------+    +----------------+          |
+---------------------------------------------------+
```

### 5.2 新增服务窗口
```
+---------------------------------------------------+
| 新增MCP服务                                       |
|                                                   |
| 输入方式: [● 表单输入] [○ JSON输入]                |
|                                                   |
| 表单输入:                                         |
| 服务名称: _____________________________ *          |
| 类型: _____________________________ *              |
| URL: _____________________________ *               |
| [+] 高级配置                                      |
|                                                   |
| JSON输入:                                         |
| {                                                 |
|   "name": "",                                     |
|   "type": "",                                     |
|   "url": ""                                       |
| }                                                 |
|                                                   |
| [测试] [保存] [取消]                               |
+---------------------------------------------------+
```

### 5.3 查看工具窗口
```
+---------------------------------------------------+
| MCP工具列表                                       |
|                                                   |
| 工具名称1                                         |
| 描述: 这是工具1的描述                              |
| 输入参数:                                         |
|   - param1 (string, required): 参数1描述          |
|   - param2 (number, optional): 参数2描述          |
| 输出结果:                                         |
|   - result (object): 结果描述                     |
|                                                   |
| 工具名称2                                         |
| ...                                               |
|                                                   |
| [关闭]                                            |
+---------------------------------------------------+
```

## 6. 后续优化建议

1. 支持MCP服务的编辑功能
2. 添加MCP服务状态监控
3. 提供批量操作功能
4. 增加服务分组管理功能
